import{a as F}from"./chunk-IFIEYBTF.js";import{b as S,c,d as C,e as _,h as N,j as D,k as E,o as I,q as L}from"./chunk-OFSUVZPS.js";import{c as y}from"./chunk-CMYGDBEU.js";import"./chunk-BJIYRU5B.js";import{Ja as s,Ka as v,Ua as p,Xa as u,aa as d,ac as x,db as o,eb as t,ec as w,fb as g,ga as f,jb as b,mb as r,ub as h}from"./chunk-UTOI2SA5.js";import"./chunk-FDERIQAA.js";function G(i,n){i&1&&(o(0,"div",10),r(1," Username is required. "),t())}function A(i,n){i&1&&(o(0,"div",10),r(1," Password is required. "),t())}var k=class i{constructor(n){this.fb=n;this.loginForm=this.fb.group({username:["",c.required],password:["",c.required]})}authService=d(F);router=d(y);loginForm;onSubmit(){if(this.loginForm.valid){let n=this.loginForm.get("username")?.value,l=this.loginForm.get("password")?.value;this.authService.login(n,l).subscribe({next:e=>{console.log("Login success:",e),this.router.navigate(["storebooks/admin/reports"])},error:e=>{console.error("Login failed:",e),alert("Invalid username or password")}})}else this.loginForm.markAllAsTouched()}static \u0275fac=function(l){return new(l||i)(v(I))};static \u0275cmp=f({type:i,selectors:[["app-login"]],standalone:!0,features:[h],decls:17,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-yellow-100","via-pink-100","to-purple-100","px-4"],[1,"bg-white","p-8","rounded-2xl","shadow-lg","w-full","max-w-sm","border","border-gray-200"],[1,"text-2xl","font-bold","text-center","text-gray-800","mb-6"],[1,"space-y-5",3,"ngSubmit","formGroup"],["for","username",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","username","formControlName","username","placeholder","e.g. john123",1,"mt-1","w-full","px-4","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-purple-400"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"mt-1","w-full","px-4","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-purple-400"],["type","submit",1,"w-full","bg-purple-600","text-white","py-2","rounded-lg","hover:bg-purple-700","transition","duration-300"],[1,"text-red-500","text-xs","mt-1"]],template:function(l,e){if(l&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"\u{1F4DA} StoreBooks"),t(),o(4,"form",3),b("ngSubmit",function(){return e.onSubmit()}),o(5,"div")(6,"label",4),r(7,"Username"),t(),g(8,"input",5),p(9,G,2,0,"div",6),t(),o(10,"div")(11,"label",7),r(12,"Password"),t(),g(13,"input",8),p(14,A,2,0,"div",6),t(),o(15,"button",9),r(16," Sign In "),t()()()()),l&2){let m,a;s(4),u("formGroup",e.loginForm),s(5),u("ngIf",((m=e.loginForm.get("username"))==null?null:m.invalid)&&((m=e.loginForm.get("username"))==null?null:m.touched)),s(5),u("ngIf",((a=e.loginForm.get("password"))==null?null:a.invalid)&&((a=e.loginForm.get("password"))==null?null:a.touched))}},dependencies:[w,x,L,N,S,C,_,D,E]})};export{k as LoginComponent};
