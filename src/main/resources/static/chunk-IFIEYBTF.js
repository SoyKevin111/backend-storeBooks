import{a as s}from"./chunk-BJIYRU5B.js";import{S as r,W as a,aa as i}from"./chunk-UTOI2SA5.js";var l=class n{API_URL="http://localhost:8080/storebooks/administrators";http=i(s);constructor(){}login(t,e){return this.http.get(this.API_URL+`/login?username=${t}&password=${e}`).pipe(r(o=>localStorage.setItem("authToken",JSON.stringify(o))))}logout(){localStorage.removeItem("authToken")}getToken(){let t=localStorage.getItem("authToken");return t?JSON.parse(t):null}isSessionActive(){let t=localStorage.getItem("authToken");if(!t)return!1;let o=JSON.parse(t).expiresAt.split(".")[0];return console.log(o),new Date(o)>new Date}static \u0275fac=function(e){return new(e||n)};static \u0275prov=a({token:n,factory:n.\u0275fac,providedIn:"root"})};export{l as a};
